<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[å‡ è°· åšå®¢]]></title>
  <link href="http://blog.kayorl.com/atom.xml" rel="self"/>
  <link href="http://blog.kayorl.com/"/>
  <updated>2017-04-01T19:35:11+08:00</updated>
  <id>http://blog.kayorl.com/</id>
  <author>
    <name><![CDATA[]]></name>
    
  </author>
  <generator uri="http://www.mweb.im/">MWeb</generator>
  
  <entry>
    <title type="html"><![CDATA[äº‹ä»¶å¤„ç† ä¹‹ è·¨æµè§ˆå™¨]]></title>
    <link href="http://blog.kayorl.com/14905364754279.html"/>
    <updated>2017-03-26T21:54:35+08:00</updated>
    <id>http://blog.kayorl.com/14905364754279.html</id>
    <content type="html"><![CDATA[
<p>ç”±äºå„æµè§ˆå™¨çš„äº‹ä»¶å¯¹è±¡å­˜åœ¨å·®å¼‚,åˆ©ç”¨ä¸‹é¢çš„ <code>EventUtil</code> å¯¹è±¡å¯ä»¥è·¨æµè§ˆå™¨å¤„ç†äº‹ä»¶</p>

<span id="more"></span><!-- more -->

<ul>
<li>
<a href="#toc_0">å¢å‡ç›‘å¬å™¨</a>
</li>
<li>
<a href="#toc_1">è·å– target å±æ€§</a>
</li>
<li>
<a href="#toc_2">é˜»æ­¢ç³»ç»Ÿé»˜è®¤è¡Œä¸º</a>
</li>
<li>
<a href="#toc_3">è·å–äº‹ä»¶</a>
</li>
<li>
<a href="#toc_4">åœæ­¢äº‹ä»¶åœ¨ DOM å±‚æ¬¡ä¸­çš„ä¼ æ’­</a>
</li>
<li>
<a href="#toc_5">ä¿®æ­£é¼ æ ‡æŒ‰é’®é—®é¢˜</a>
</li>
<li>
<a href="#toc_6">ä¿®æ­£ä»»æ„æƒ…å†µä¸‹æ»šè½®çš„å–å€¼</a>
</li>
<li>
<a href="#toc_7">è·å–æŒ‰é”®äº‹ä»¶çš„å­—ç¬¦ç¼–ç </a>
</li>
</ul>


<h2 id="toc_0">å¢å‡ç›‘å¬å™¨</h2>

<pre><code class="language-js">var EventUtil = {
    addHandler: function(element, type, handler) {
        if (element.addEventListener) {
            element.addEventListener(type, handler, false);
        } else if (element.attachEvent) {
            element.attachEvent(type, handler);
        } else {
            element[&quot;on&quot; + type] = handler;
        }
    },
    removeHandler: function(element, type, handler) {
        if (element.removeEventListener) {
            element.removeEventListener(type, handler, false);
        } else if (element.detachEvent) {
            element.detachEvent(type, handler);
        } else {
            element[&quot;on&quot; + type] = null;
        }
    }
}
</code></pre>

<h2 id="toc_1">è·å– target å±æ€§</h2>

<pre><code class="language-js">var EventUtil = {
    
    ...
    /**
     * ä½¿ç”¨ DOM0 çº§æ–¹æ³•å¤„ç†æ—¶, äº‹ä»¶å¤„ç†çš„ä½œç”¨åŸŸæ˜¯æ ¹æ®æŒ‡å®šçš„æ–¹å¼ç¡®å®šçš„, 
                            this ä¸ä¼šå§‹ç»ˆç­‰äºäº‹ä»¶ç›®æ ‡,å› è€Œç”¨ srcElement
     */  
    getTarget: function(event) {
        return event.target ? event.target : event.srcElement;
    }
}
</code></pre>

<h2 id="toc_2">é˜»æ­¢ç³»ç»Ÿé»˜è®¤è¡Œä¸º</h2>

<pre><code class="language-js">var EventUtil = {
    
    ...
    
    /**
     * é˜»æ­¢é»˜è®¤è¡Œä¸º,å¦‚ç‚¹å‡»é“¾æ¥æ—¶è‡ªåŠ¨è·³è½¬
     * ä½¿ç”¨ DOM0 çº§æ–¹æ³•å¤„ç†æ—¶, returnValue å±æ€§ç›¸å½“äº preventDefault æ–¹æ³•
     */
    preventDefault: function(event) {
        if (even.preventDefault) {
            event.preventDefault();
        } else {
            event.returnValue = false;
        }
    }
}
</code></pre>

<h2 id="toc_3">è·å–äº‹ä»¶</h2>

<pre><code class="language-js">var EventUtil = {
    
    ...
    
    /**
     * ä½¿ç”¨ DOM0 çº§æ–¹æ³•å¤„ç†æ—¶, event å¯¹è±¡ä½œä¸º window å¯¹è±¡çš„ä¸€ä¸ªå±æ€§å­˜åœ¨
     */
    getEvent: function(event) {
        return event ? event : window.event;
    },
  
}

</code></pre>

<h2 id="toc_4">åœæ­¢äº‹ä»¶åœ¨ DOM å±‚æ¬¡ä¸­çš„ä¼ æ’­</h2>

<pre><code class="language-js">var EventUtil = {
    
    ...
    
    /**
     * ç«‹å³åœæ­¢äº‹ä»¶åœ¨ DOM å±‚æ¬¡ä¸­çš„ä¼ æ’­
     * ä½¿ç”¨ DOM0 çº§æ–¹æ³•å¤„ç†æ—¶, cancelBubble å±æ€§ç›¸å½“äº stopPropagation æ–¹æ³•
     */
    stopPropagation: function(event) {
        if (event.stopPropagation) {
            event.stopPropagation();
        } else {
            event.cancelBubble = true;
        }
    }
}

</code></pre>

<h2 id="toc_5">ä¿®æ­£é¼ æ ‡æŒ‰é’®é—®é¢˜</h2>

<pre><code class="language-js">var EventUtil= {
    
    ...
    
    /**
     * IE8 çš„é—®é¢˜........
     * 0 : ä¸»æŒ‰é’®, 1 : æ»šè½® , 2 : æ¬¡æŒ‰é’®
     */
    getButton: function(event) {
        if (document.implementation.hasFeature(&quot;MouseEvents&quot;, &quot;2.0&quot;)) {
            return event.button;
        } else {
            switch (event.button) {
                case 0:
                case 1:
                case 3:
                case 5:
                case 7:
                    return 0;
                case 2:
                case 6:
                    return 2;
                case 4:
                    return 1;
            }
        }
    }
};
</code></pre>

<h2 id="toc_6">ä¿®æ­£ä»»æ„æƒ…å†µä¸‹æ»šè½®çš„å–å€¼</h2>

<pre><code class="language-js">var EventUtil = {

    ...
    
    /**
     * å‘å‰ä¸ºåŠ 
     * opera 9.5 ä¹‹å‰çš„ç‰ˆæœ¬ä¸­, wheelDelta å€¼æ­£è´Ÿå·æ˜¯é¢ å€’çš„
     * FireFox çš„æ»šè½®ä¿¡æ¯ä¿å­˜åœ¨ detail ä¸­,ä¸”å€¼ä¸º æ­£å¸¸ wheelDelta çš„ 1 /40 
     */
    getWheelDelta: function(event) {
        if (event.wheelDelta) {
            return (client.engine.opera &amp;&amp; client.engine.opera &lt; 9.5 ? -event.wheelDelta : event.wheelDelta);
        } else {
            return -event.detail * 40;
        }
    }
};

/**
 * ä¿®æ­£ä»»æ„æƒ…å†µä¸‹æ»šè½®çš„å–å€¼
 */
(function() {
    function handleMouseWheel(event) {
        event.EventUtil.getEvent(event);
        var delta = EventUtil.getWheelDelta(event);
    }
    EventUtil.addHandler(document, &quot;mousewheel&quot;, handleMouseWheel);
    EventUtil.addHandler(document, &quot;DOMMouseScroll&quot;, handleMouseWheel);
})();
</code></pre>

<h2 id="toc_7">è·å–æŒ‰é”®äº‹ä»¶çš„å­—ç¬¦ç¼–ç </h2>

<pre><code class="language-js">var EventUtil = {
    
    ...
    
    /**
     * &lt;=IE8 åŠ opera åœ¨ keyCode ä¸­ä¿å­˜å­—ç¬¦çš„ ASCII ç¼–ç 
     */
    getCharCode: function(event) {
        if (typeof event.charCode == &quot;number&quot;) {
            return event.charCode;
        } else {
            return event.keyCode;
        }
    }
}

</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[å¤–è¾¹è·æŠ˜å ]]></title>
    <link href="http://blog.kayorl.com/margin-collapse.html"/>
    <updated>2017-03-23T09:15:30+08:00</updated>
    <id>http://blog.kayorl.com/margin-collapse.html</id>
    <content type="html"><![CDATA[
<blockquote>
<p>æ¯—é‚»çš„ä¸¤ä¸ªæˆ–å¤šä¸ªå¤–è¾¹è· (margin) ä¼šåˆå¹¶æˆä¸€ä¸ªå¤–è¾¹è·ã€‚</p>
</blockquote>

<span id="more"></span><!-- more -->

<blockquote>
<p>å‚è€ƒ MDN çš„<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing">Mastering_margin_collapsing</a><br/>
ä»¥åŠ w3help çš„ <a href="http://www.w3help.org/zh-cn/kb/006/#header_3">CSS æ¡†æ¨¡å‹</a></p>
</blockquote>

<p>å¤–è¾¹è·æ¯—é‚»,å¯ä»¥è¢«å½’ç»“ä¸º2ç‚¹</p>

<ul>
<li>è¿™ä¸¤ä¸ªæˆ–å¤šä¸ªå¤–è¾¹è·æ²¡æœ‰è¢«<code>éç©ºå†…å®¹</code>ã€<code>padding</code>ã€<code>border</code> æˆ– <code>clear</code> åˆ†éš”å¼€ã€‚</li>
<li>margin å¤„äº<code>æ™®é€šæµä¸­</code></li>
</ul>

<h2 id="toc_0">ä¸¤ä¸ªæˆ–å¤šä¸ªæ¯—é‚»çš„æ™®é€šæµä¸­çš„å—å…ƒç´ å‚ç›´æ–¹å‘ä¸Šçš„ margin ä¼šæŠ˜å </h2>

<p><strong>ä¸¤ä¸ªæˆ–å¤šä¸ª</strong><br/>
è¯´æ˜å…¶æ•°é‡å¿…é¡»æ˜¯å¤§äºä¸€ä¸ªï¼Œåˆè¯´æ˜ï¼ŒæŠ˜å æ˜¯å…ƒç´ ä¸å…ƒç´ é—´ç›¸äº’çš„è¡Œä¸ºï¼Œä¸å­˜åœ¨ A å’Œ B æŠ˜å ï¼ŒB æ²¡æœ‰å’Œ A æŠ˜å çš„ç°è±¡ã€‚</p>

<p><strong>æ¯—é‚»</strong>,å…„å¼Ÿçˆ¶å­éƒ½å¯ä»¥æ¯—é‚»<br/>
æ˜¯æŒ‡æ²¡æœ‰è¢«éç©ºå†…å®¹ã€paddingã€border æˆ– clear åˆ†éš”å¼€ï¼Œè¯´æ˜å…¶ä½ç½®å…³ç³»ã€‚</p>

<p>æ³¨æ„ä¸€ç‚¹ï¼Œåœ¨æ²¡æœ‰è¢«åˆ†éš”å¼€çš„æƒ…å†µä¸‹ï¼Œä¸€ä¸ªå…ƒç´ çš„ margin-top ä¼šå’Œå®ƒæ™®é€šæµä¸­çš„ç¬¬ä¸€ä¸ªå­å…ƒç´ (éæµ®åŠ¨å…ƒç´ ç­‰)çš„ margin-top ç›¸é‚»ï¼› <u>åªæœ‰åœ¨ä¸€ä¸ªå…ƒç´ çš„ height æ˜¯ &quot;auto&quot; çš„æƒ…å†µä¸‹ï¼Œå®ƒçš„ margin-bottom æ‰ä¼šå’Œå®ƒæ™®é€šæµä¸­çš„æœ€åä¸€ä¸ªå­å…ƒç´ (éæµ®åŠ¨å…ƒç´ ç­‰)çš„ margin-bottom ç›¸é‚»</u>ã€‚</p>

<p><strong>å‚ç›´æ–¹å‘</strong><br/>
æ˜¯æŒ‡å…·ä½“çš„æ–¹ä½ï¼Œåªæœ‰å‚ç›´æ–¹å‘çš„ margin æ‰ä¼šæŠ˜å ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ°´å¹³æ–¹å‘çš„ margin ä¸ä¼šå‘ç”ŸæŠ˜å çš„ç°è±¡ã€‚</p>

<h2 id="toc_1">æŠ˜å åçš„ margin çš„è®¡ç®—</h2>

<blockquote>
<p>MAX(æ­£æ•°) + MIN(è´Ÿæ•°) ,æ–¹å‘ç”±ç¬¦å·å†³å®š</p>
</blockquote>

<ol>
<li>+20px, +10px , å–20px , æ­£å‘ä½ç§»</li>
<li>-20px, -10px , å–-20px, è´Ÿå‘ä½ç§»</li>
<li>+20px, -20px , -10px,  å– -20px + 20px = 0, ä¸ä½ç§»</li>
</ol>

<blockquote>
<p>ç›¸é‚» margin è¦ä¸€èµ·å‚ä¸è¿ç®—</p>
</blockquote>

<p>A åŠ A çš„çˆ¶ , B åŠ B çš„çˆ¶ , éƒ½å¾—å‚ä¸è¿ç®—,ä¸èƒ½åˆ†åˆ«ç®—å®ŒAB çš„çˆ¶å…ƒç´ ä¹‹åå†åˆå¹¶</p>

<pre><code>&lt;div style=&quot;margin:50px 0; background-color:green; width:50px;&quot;&gt;
    &lt;div style=&quot;margin:-60px 0;&quot;&gt;
           &lt;div style=&quot;margin:150px 0;&quot;&gt;A&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
&lt;div style=&quot;margin:-100px 0; background-color:green; width:50px;&quot;&gt;
    &lt;div style=&quot;margin:-120px 0;&quot;&gt;
           &lt;div style=&quot;margin:200px 0;&quot;&gt;B&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>

<h2 id="toc_2">ä¸æŠ˜å ä¸è‡ªèº«æŠ˜å </h2>

<ul>
<li>æµ®åŠ¨å…ƒç´ ã€inline-block å…ƒç´ ã€ç»å¯¹å®šä½å…ƒç´ çš„ margin ä¸ä¼šå’Œå‚ç›´æ–¹å‘ä¸Šå…¶ä»–å…ƒç´ çš„ margin æŠ˜å </li>
<li>åˆ›å»ºäº†å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„å…ƒç´ ï¼Œä¸å’Œå®ƒçš„å­å…ƒç´ å‘ç”Ÿ margin æŠ˜å  ,å¦‚<code>overflow:hidden</code></li>
<li>å…ƒç´ è‡ªèº«çš„ margin-bottom å’Œ margin-top ç›¸é‚»æ—¶ä¹Ÿä¼šæŠ˜å </li>
</ul>

<h2 id="toc_3">æŠ˜å åå‘</h2>

<p>åœ¨æ°´å¹³ä¹¦å†™æ¨¡å¼ä¸‹ï¼Œ<code>margin</code> æŠ˜å çš„æ˜¯å‚ç›´æ–¹å‘ï¼Œå³ <code>margin-top/margin-bottom</code><br/>
åœ¨å‚ç›´ä¹¦å†™æ¨¡å¼ä¸‹ï¼Œ<code>margin</code> æŠ˜å çš„æ˜¯æ°´å¹³æ–¹å‘ï¼Œå³ <code>margin-right/margin-left</code></p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[css å…ƒç´ å‚ç›´ã€æ°´å¹³å±…ä¸­]]></title>
    <link href="http://blog.kayorl.com/css-centering.html"/>
    <updated>2017-03-22T20:42:56+08:00</updated>
    <id>http://blog.kayorl.com/css-centering.html</id>
    <content type="html"><![CDATA[
<span id="more"></span><!-- more -->

<h2 id="toc_0">æ°´å¹³å±…ä¸­</h2>

<blockquote>
<p>inline-*</p>
</blockquote>

<pre><code>inline-* {
    text-align: center;
}
</code></pre>

<blockquote>
<p>å·²çŸ¥é«˜åº¦çš„ block </p>
</blockquote>

<pre><code>block {
    margin: 0 auto; 
}
</code></pre>

<blockquote>
<p>æœªçŸ¥é«˜åº¦çš„ block</p>
</blockquote>

<pre><code>block {
    display: inline-block;  
    text-align: center; 
}
</code></pre>

<h2 id="toc_1">å‚ç›´å±…ä¸­</h2>

<blockquote>
<p>inline å•è¡Œ</p>
</blockquote>

<pre><code>inline-* {
    padding-top: 30px;   
    padding-bottom:30px; 
}
</code></pre>

<pre><code>inline-* {
    line-height: height;
    /* height ä¸ºå…ƒç´ é«˜åº¦ */
}
</code></pre>

<blockquote>
<p>inline å¤šè¡Œ</p>
</blockquote>

<p>ç¬¬ä¸€ç§æ–¹æ³•,åˆ©ç”¨ <code>table</code> æ ‡ç­¾</p>

<pre><code>table {
    ...
}
table tr td {
    /* the default value of vertical-align is middle */
}
</code></pre>

<p>ç¬¬äºŒç§æ–¹æ³•ï¼Œæ¨¡æ‹Ÿ <code>table</code>æ ‡ç­¾ï¼Œä¸ºå±…ä¸­å…ƒç´ æ·»åŠ  <code>vertical-align</code>æ ‡ç­¾</p>

<pre><code>.parent { 
    display: table;
}

.child {
    display: table-cell;
    vertical-align: middle;
}
</code></pre>

<blockquote>
<p>å·²çŸ¥é«˜åº¦çš„ block</p>
</blockquote>

<pre><code>.parent {
    position: relative;
}

.child {
    position: absolute;
    top:50%;
    margin-top: - height/2;
    /* åç§»æ˜¯ä»¥å—çš„å·¦ä¸Šè§’ä¸ºé”šçš„ï¼Œä»¥æ­¤éœ€å‡å» block é«˜åº¦çš„ä¸€åŠ */
}
</code></pre>

<blockquote>
<p>æœªçŸ¥é«˜åº¦çš„ block</p>
</blockquote>

<pre><code>.parent {
    position: relative;
}

.child {
    position: absolute;
    top:50%;
    transform: translateY(50%);
}
</code></pre>

<blockquote>
<p>å¤§æ‹›ï¼Œflex</p>
</blockquote>

<pre><code>.parent {
    display: flex;
    flex-direction: column;
    justify-content: center;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[css å‘½åçº¦å®š]]></title>
    <link href="http://blog.kayorl.com/css-style.html"/>
    <updated>2017-03-22T14:24:54+08:00</updated>
    <id>http://blog.kayorl.com/css-style.html</id>
    <content type="html"><![CDATA[
<span id="more"></span><!-- more --> 

<h2 id="toc_0">Object Oriented CSS (OOCSS)</h2>

<p>åˆ†ç¦»å®¹å™¨ä¸å†…å®¹</p>

<blockquote>
<p>åˆ«è¿™ä¹ˆåšå•Šï¼ï¼ï¼ï¼</p>
</blockquote>

<pre><code>ul li.list-item {
    ...
}
</code></pre>

<blockquote>
<p>ç›´æ¥è·³åˆ°å…ƒç´ </p>
</blockquote>

<pre><code>.list-item {
    ...
}
</code></pre>

<h2 id="toc_1"><del>Atomic CSS (ACSS)</del></h2>

<p>å°†æ¯ä¸ªå…ƒç´ æ‹†åˆ†æˆåŸå­</p>

<pre><code>.mt-20 {
    margin-top : 20px;
}

.fl {
    float : left;
}
</code></pre>

<h2 id="toc_2">Block, Element, Modifier (BEM)</h2>

<p>æ ¹æ®ä¸¥è§„å†™å‡ºçš„ï¼Œæ˜“äºç†è§£çš„ css é£æ ¼</p>

<pre><code>/* å— */
.block {}

/* å—ä¸­å…ƒç´ ï¼ŒåŒä¸‹åˆ’çº¿ */
.block__element {}

/* å…ƒç´ æˆ–å—çš„ä¿®æ”¹å™¨ï¼ŒåŒè¿å­—ç¬¦ */
.block--modifier {}
</code></pre>

<p>ä¸€ä¸ªä¾‹å­</p>

<pre><code>&lt;header class=&quot;col-header&quot;&gt;

    &lt;!-- å—å…ƒç´  --&gt;
    &lt;h1 class=&quot;col-header__heading&quot;&gt;
        &lt;a class=&quot;col-header__link&quot; href=&quot;/&quot;&gt;clubmate.fi&lt;/a&gt;
    &lt;/h1&gt;

    &lt;!-- å—å…ƒç´  --&gt;
    &lt;nav class=&quot;nav&quot;&gt;

        &lt;!-- å—å…ƒç´  --&gt;
        &lt;a class=&quot;nav__item&quot; href=&quot;/&quot;&gt;Home&lt;/a&gt;

        &lt;!-- å…ƒç´ ä¸ä¿®æ”¹å™¨ --&gt;
        &lt;a class=&quot;nav__item nav__item--uplink&quot; href=&quot;#header&quot;&gt;&amp;uarr;&lt;/a&gt;

    &lt;/nav&gt;
&lt;/header&gt;
</code></pre>

<hr/>

<p>BEM æ˜¯ OOCSS çš„åŠ å¼ºç‰ˆï¼Œè€Œä¸”åˆ©äºç†è§£åˆ†è¾¨ï¼Œä»¥åå°±é‡‡ç”¨è¿™ä¸ªå•¦~</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç§»åŠ¨ç«¯é€‚é…å¼€å‘è¦ç‚¹]]></title>
    <link href="http://blog.kayorl.com/mobile-notice.html"/>
    <updated>2017-03-19T10:12:40+08:00</updated>
    <id>http://blog.kayorl.com/mobile-notice.html</id>
    <content type="html"><![CDATA[
<p>å‚è€ƒ<br/><br/>
<code>Alloyteam</code>  å›¢é˜Ÿçš„<a href="http://alloyteam.github.io/Spirit/modules/Standard/">ç§»åŠ¨å¼€å‘è§„èŒƒæ¦‚è¿°</a><br/>
<code>è´¤å¿ƒåšå®¢</code>çš„<a href="http://sentsin.com/web/54.html">æ‰‹æœº/ç§»åŠ¨å‰ç«¯å¼€å‘éœ€è¦æ³¨æ„çš„20ä¸ªè¦ç‚¹</a></p>

<span id="more"></span><!-- more -->

<h2 id="toc_0">meta æ ‡ç­¾è®¾ç½®</h2>

<pre><code>&lt;meta content=&quot;width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0&quot; name=&quot;viewport&quot;&gt;
&lt;meta content=&quot;yes&quot; name=&quot;apple-mobile-web-app-capable&quot;&gt;
&lt;meta content=&quot;black&quot; name=&quot;apple-mobile-web-app-status-bar-style&quot;&gt;
&lt;meta content=&quot;telephone=no&quot; name=&quot;format-detection&quot;&gt;
</code></pre>

<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
<th>å€¼</th>
</tr>
</thead>

<tbody>
<tr>
<td>viewpoint</td>
<td>æ˜¯å¦å¯ä»¥ç¼©æ”¾Webé¡µé¢</td>
<td>å¼ºåˆ¶æ–‡æ¡£ä¸è®¾å¤‡çš„å®½åº¦ä¿æŒ1ï¼š1ï¼› æ–‡æ¡£æœ€å¤§çš„å®½åº¦æ¯”åˆ—æ˜¯1.0ï¼› user-scalableå®šä¹‰æ˜¯å¦å¯ç¼©æ”¾</td>
</tr>
<tr>
<td>apple-mobile-web-app-capable</td>
<td>iphoneç§æœ‰ï¼Œ å…è®¸å…¨å±æ¨¡å¼æµè§ˆï¼Œ è¿˜å¯ä»¥æ·»åŠ è‡³æ¡Œé¢</td>
<td>Â yes</td>
</tr>
<tr>
<td>apple-mobile-web-app-status-bar-style</td>
<td>iphoneç§æœ‰ï¼Œ safarié¡¶ç«¯çš„çŠ¶æ€æ¡çš„æ ·å¼</td>
<td>é»˜è®¤å€¼ä¸ºdefaultï¼ˆç™½è‰²ï¼‰ï¼Œ å¯ä»¥è®¾ä¸ºblackï¼Œblack-translucent</td>
</tr>
<tr>
<td>format-detection</td>
<td>æ ¼å¼æ£€æµ‹</td>
<td>é»˜è®¤å…¨å¼€å¯ï¼Œ telephone=yes email=yes address=yes(è·³è½¬åˆ°åœ°å›¾)</td>
</tr>
</tbody>
</table>

<h2 id="toc_1">å­—ä½“è®¾ç½®</h2>

<p>ä½¿ç”¨æ— è¡¬çº¿ä½“<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>. <br/>
è¡¨å•å…ƒç´ ä¼šè¢«æµè§ˆå™¨ä»£ç†æ ·å¼æ‰€è¦†ç›–ï¼Œå› æ­¤éœ€è®©è¡¨å•å…ƒç´ ç»§æ‰¿å­—ä½“å±æ€§<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup></p>

<pre><code>body {
    font-family: &quot;Helvetica Neue&quot;, Helvetica, STHeiTi, sans-serif;
}
input, label, select, option, textarea, button, fieldset, legend {
    font-family: inherit;
}
</code></pre>

<p>å„æ“ä½œç³»ç»Ÿæ‰€ç”¨å­—ä½“å¦‚ä¸‹</p>

<table>
<thead>
<tr>
<th>OS ç‰ˆæœ¬</th>
<th style="text-align: center">è¯­è¨€</th>
<th style="text-align: center">å­—ä½“</th>
</tr>
</thead>

<tbody>
<tr>
<td>&gt; iOS 4.0</td>
<td style="text-align: center">è‹±æ–‡</td>
<td style="text-align: center">Helvetica Neue</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">ä¸­æ–‡</td>
<td style="text-align: center">STHeiTi<sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup></td>
</tr>
<tr>
<td>&gt; Android 4.0</td>
<td style="text-align: center">ä¸­æ–‡/è‹±æ–‡</td>
<td style="text-align: center">Roboto</td>
</tr>
<tr>
<td>&lt; iOS 4.0</td>
<td style="text-align: center">è‹±æ–‡</td>
<td style="text-align: center">Helvetica</td>
</tr>
<tr>
<td>&lt; Android 4.0</td>
<td style="text-align: center">è‹±æ–‡</td>
<td style="text-align: center">Droid Sans</td>
</tr>
<tr>
<td></td>
<td style="text-align: center">ä¸­æ–‡</td>
<td style="text-align: center">Droid Sans Fallback</td>
</tr>
</tbody>
</table>

<h2 id="toc_2">åŸºç¡€äº¤äº’</h2>

<p>è®¾ç½®å…¨å±€çš„CSSæ ·å¼ï¼Œ<br/>
é¿å…å›¾ä¸­çš„é•¿æŒ‰ <em>å¼¹å‡ºèœå•ä¸é€‰ä¸­æ–‡æœ¬</em> çš„è¡Œä¸º</p>

<pre><code>a, img {
    -webkit-touch-callout: none; /* ç¦æ­¢é•¿æŒ‰é“¾æ¥ä¸å›¾ç‰‡å¼¹å‡ºèœå• */
}
html, body {
    -webkit-user-select: none;   /* ç¦æ­¢é€‰ä¸­æ–‡æœ¬ï¼ˆå¦‚æ— æ–‡æœ¬é€‰ä¸­éœ€æ±‚ï¼Œæ­¤ä¸ºå¿…é€‰é¡¹ï¼‰ */
    user-select: none;
}
</code></pre>

<div class="footnotes">
<hr/>
<ol>

<li id="fn1">
<p>æ— è¡¬çº¿ä½“ï¼ˆSans-serifï¼‰ä¸“æŒ‡è¥¿æ–‡ä¸­æ²¡æœ‰è¡¬çº¿çš„å­—ä½“ï¼Œä¸æ±‰å­—å­—ä½“ä¸­çš„é»‘ä½“ç›¸å¯¹åº”ã€‚ä¸è¡¬çº¿å­—ä½“ç›¸åï¼Œè¯¥ç±»å­—ä½“é€šå¸¸æ˜¯æœºæ¢°çš„å’Œç»Ÿä¸€çº¿æ¡çš„ï¼Œå®ƒä»¬å¾€å¾€æ‹¥æœ‰ç›¸åŒçš„æ›²ç‡ï¼Œç¬”ç›´çš„çº¿æ¡ï¼Œé”åˆ©çš„è½¬è§’ã€‚&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
</li>

<li id="fn2">
<p><img src="media/14898895604273/table-style-hover.png" alt="table-style-hove set-up" style="width:300px;"/>&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
</li>

<li id="fn3">
<p>åæ–‡é»‘ä½“å¹¶ä¸å­˜åœ¨iOSçš„å­—ä½“åº“ä¸­(<a href="http://support.apple.com/kb/HT5878)%EF%BC%8C">http://support.apple.com/kb/HT5878)ï¼Œ</a> ä½†ç³»ç»Ÿä¼šè‡ªåŠ¨å°†åæ–‡é»‘ä½“ <code>STHeiTi</code> å…¼å®¹å‘½ä¸­ç³»ç»Ÿé»˜è®¤ä¸­æ–‡å­—ä½“<code>é»‘ä½“-ç®€</code>æˆ–<code>é»‘ä½“-ç¹</code>&nbsp;<a href="#fnref3" rev="footnote">&#8617;</a></p>
</li>

</ol>
</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[function èƒŒåéšè—ç€ä»€ä¹ˆç§˜å¯†]]></title>
    <link href="http://blog.kayorl.com/function.html"/>
    <updated>2017-03-08T14:37:21+08:00</updated>
    <id>http://blog.kayorl.com/function.html</id>
    <content type="html"><![CDATA[
<p><del>æ©ï¼Œå¯¹è±¡è‚¯å®šæ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„</del></p>

<span id="more"></span><!-- more -->

<h2 id="toc_0">æ‰€æœ‰å‡½æ•°çš„å‚æ•°éƒ½æ˜¯æŒ‰å€¼ä¼ é€’çš„ï¼ŒåŒ…æ‹¬å¯¹è±¡</h2>

<p>å±€éƒ¨ä½œç”¨åŸŸä¸­ä¿®æ”¹çš„ <strong>å¯¹è±¡</strong> ä¼šåœ¨å…¨å±€ä½œç”¨åŸŸä¸­ä½“ç°å‡ºæ¥, <u>å¹¶æ— æ³•è¯´æ˜å‚æ•°æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„</u>;</p>

<p>åšä¸€ç•ªå‡è®¾ï¼šå¦‚æœæ˜¯æŒ‰å€¼ä¼ é€’çš„è¯ï¼Œé‚£ä¹ˆä¸‹é¢ä»£ç æ‰“å°ç»“æœåº”è¯¥æ˜¯ alien </p>

<pre><code class="language-js">function setName(obj){
    obj.name = &quot;cowboy&quot;; // å‚æ•°å€¼è¢«ä¿®æ”¹ï¼ŒåŸå§‹å¼•ç”¨ä¸å˜
    obj= new Object();   // obj è¢«é‡å†™åå¼•ç”¨çš„æ˜¯å±€éƒ¨å¯¹è±¡äº†ï¼Œå¹¶ä¸æ˜¯ä¼ å…¥çš„ person
    obj.name = &quot;alien&quot;;
} // æ‰§è¡Œå®Œåçš„ obj ä¼šè¢«é”€æ¯

var person = new Object();
setName( person );
alert( person.name );    // &quot;cowboy&quot;
</code></pre>

<p>ä½†å®é™…ç»“æœæ˜¯ cowboyï¼Œè¯´æ˜</p>

<blockquote>
<p>å¯¹è±¡ä¸æ˜¯æŒ‰å¼•ç”¨ä¼ é€’çš„ã€‚</p>
</blockquote>

<h2 id="toc_1">å‡½æ•°å†…éƒ¨å¯¹è±¡åŠå‡½æ•°æ–¹æ³•</h2>

<table>
<thead>
<tr>
<th style="text-align: center">ç±»åˆ«</th>
<th style="text-align: center">åç§°</th>
<th style="text-align: center">æ„ä¹‰</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">Â å†…éƒ¨å¯¹è±¡</td>
<td style="text-align: center">Â  arguments</td>
<td style="text-align: center">è¯¥å¯¹è±¡æœ‰å±æ€§ callee æŒ‡å‘å‡½æ•°æœ¬èº«ï¼Œ<del>ä¸¥æ ¼æ¨¡å¼ä¸‹è°ƒç”¨ callee ä¼šå¯¼è‡´é”™è¯¯</del></td>
</tr>
<tr>
<td style="text-align: center">Â å†…éƒ¨å¯¹è±¡</td>
<td style="text-align: center">this</td>
<td style="text-align: center">æŒ‡å‘ç¯å¢ƒå¯¹è±¡</td>
</tr>
<tr>
<td style="text-align: center">å±æ€§</td>
<td style="text-align: center">length</td>
<td style="text-align: center">Â å‡½æ•°å¸Œæœ›æ¥æ”¶çš„å‘½åå‚æ•°çš„ä¸ªæ•°</td>
</tr>
<tr>
<td style="text-align: center">å±æ€§</td>
<td style="text-align: center">Â prototype</td>
<td style="text-align: center">ä¿å­˜æ‰€æœ‰å®ä¾‹æ–¹æ³•</td>
</tr>
<tr>
<td style="text-align: center">æ–¹æ³•</td>
<td style="text-align: center">Â <code>apply(scope, array)</code></td>
<td style="text-align: center">è®¾ç½®å‡½æ•°ä½“å†… this å¯¹è±¡çš„å€¼ï¼Œæ‰©å……å‡½æ•°è¿è¡Œçš„ä½œç”¨åŸŸ</td>
</tr>
<tr>
<td style="text-align: center">æ–¹æ³•</td>
<td style="text-align: center"><code>call(scope, arg1,arg2,..)</code></td>
<td style="text-align: center">è®¾ç½®å‡½æ•°ä½“å†… this å¯¹è±¡çš„å€¼ï¼Œæ‰©å……å‡½æ•°è¿è¡Œçš„ä½œç”¨åŸŸ</td>
</tr>
<tr>
<td style="text-align: center">æ–¹æ³•(ES5)</td>
<td style="text-align: center"><code>bind(scope)</code></td>
<td style="text-align: center">åˆ›å»ºä¸€ä¸ªå‡½æ•°çš„å®ä¾‹</td>
</tr>
</tbody>
</table>

<pre><code class="language-js">// arguments.callee
function factorial(num) {
    if( num &lt;= 1 ) {
        return 1;
    }else{
        return arguments.callee(num-1); // è§£è€¦ï¼Œæ”¹å˜å‡½æ•°åæ—¶ä¸ç”¨éƒ½æ”¹å˜
    }
}

// .length
alert(factorial.length); //å¸Œæœ›æ¥æ”¶å‚æ•°æ•°é‡ä¸º1
</code></pre>

<blockquote>
<p>åˆ©ç”¨ <code>apply()</code> ä¸ <code>call()</code>  å¯ä»¥å°†å¯¹è±¡ä¸æ–¹æ³•è§£è€¦</p>
</blockquote>

<pre><code class="language-js">// æ‰©å……å‡½æ•°è¿è¡Œä½œç”¨åŸŸ
window.color = &quot;red&quot; ; 
var o = { color: &quot;blue&quot;};

function sayColor(){ alert(this.color); }

sayColor();             //red
sayColor.call(this);    //red
sayColor.call(window);  //red
sayColor.call(o);       //blue

var objectSayColor = sayColor.bind(o);
objectSayColor();       //blue
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[css å¸ƒå±€ç³»ç»Ÿ]]></title>
    <link href="http://blog.kayorl.com/css-layout.html"/>
    <updated>2017-03-04T09:49:29+08:00</updated>
    <id>http://blog.kayorl.com/css-layout.html</id>
    <content type="html"><![CDATA[
<ul>
<li>
<a href="#toc_0">grid</a>
</li>
<li>
<a href="#toc_1">flexbox</a>
</li>
<li>
<a href="#toc_2">column</a>
</li>
<li>
<a href="#toc_3">inline-block</a>
</li>
<li>
<a href="#toc_4">float</a>
<ul>
<li>
<a href="#toc_5">overflow æŠ€å·§</a>
</li>
<li>
<a href="#toc_6">clearfix æŠ€å·§</a>
</li>
</ul>
</li>
</ul>


<span id="more"></span><!-- more -->

<h2 id="toc_0">grid</h2>

<pre><code>/*------------------------------*\
    Grid System
\*------------------------------*/


/* reseting the box model */

.row,
.column {
    box-sizing: border-box;
}


/* clearing floats */

.row:before,
.row:after {
    content: &quot;&quot;;
    display: table;
}

.row:after {
    clear: both;
}


/* defining columns, common style
 * float left will cause the element to become display:block 
 */

.column {
    position: relative;
    float: left;
}


/* creating gutters */

.column + .column {
    margin-left: 1.6%;
}


/* calculating column widths , 12columns
 * å»é™¤12åˆ—ä¹‹é—´çš„ æ²Ÿ(gutter) åçš„å•åˆ—å®½
 * 1 column width = (100 - (margin * (maximum columns - 1)))/ maximum columns
 *                = (100 - (1.6 * ( 12 - 1 ) )) / 12 
 *                = 6.86666666667
 *
 * å¤šåˆ—è‡ªåŠ¨åˆå¹¶ä¸­é—´çš„ æ²Ÿå®½
 * n column width = (1 column width * column span ) + (margin *  (column span -1) ))                  
 * 2 column width = (6.86666666667 * 2) +  (1.6 * (2 - 1))
 *              
 */


/* 12 columns */

.column-1 {
    width: 6.86666666667%;
}

.column-2 {
    width: 15.3333333333%;
}

.column-3 {
    width: 23.8%;
}

.column-4 {
    width: 32.2666666667%;
}

.column-5 {
    width: 40.7333333333%;
}

.column-6 {
    width: 49.2%;
}

.column-7 {
    width: 57.6666666667%;
}

.column-8 {
    width: 66.1333333333%;
}

.column-9 {
    width: 74.6%;
}

.column-10 {
    width: 83.0666666667%;
}

.column-11 {
    width: 91.5333333333%;
}

.column-12 {
    width: 100%;
}

@media only screen and (max-width: 550px) {
    .column-1,
    .column-2,
    .column-3,
    .column-4,
    .column-5,
    .column-6,
    .column-7,
    .column-8,
    .column-9,
    .column-10,
    .column-11,
    .column-12 {
        width: auto;
        float: none;
    }
    .column + .column {
        margin-left: 0;
    }
}

</code></pre>

<h2 id="toc_1"><a href="http://www.w3cplus.com/css3/flexbox-basics.html">flexbox</a></h2>

<blockquote>
<p>æ— æ³•å®ç°æ— ç¼ç€‘å¸ƒæµå¸ƒå±€</p>
</blockquote>

<p>flex çš„å®¹å™¨å±æ€§</p>

<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>å€¼</th>
<th>æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td>[flex-flow]</td>
<td>[flex-direction],[flex-wrap]</td>
<td>æ–¹å‘ä¸æ¢è¡Œ</td>
</tr>
<tr>
<td>[flex-direction]</td>
<td>row / row-reverse<br>column / column-reverse</td>
<td>æ–¹å‘</td>
</tr>
<tr>
<td>[flex-wrap]</td>
<td>no-wrap / wrap <br> wrap-reverse</td>
<td>æ¢è¡Œ</td>
</tr>
<tr>
<td>[align-items]</td>
<td>flex-start/baseline <br> flex-end<br> center <br>stretch</td>
<td>ä¾§è½´å¯¹é½æ–¹å¼</td>
</tr>
<tr>
<td>[justify-content]</td>
<td>flex-start / flex-end <br>center <br>space-between <br>space-around</td>
<td>ä¼¸ç¼©é¡¹åˆ†å¸ƒæ–¹å¼</td>
</tr>
<tr>
<td>[align-content]</td>
<td>flex-start / flex-end <br>center<br> space-between<br> space-around <br>stretch</td>
<td>ä¼¸ç¼©é¡¹å¯¹é½æ–¹å¼</td>
</tr>
</tbody>
</table>

<pre><code>.container {
  display: -webkit-flex;
  display: flex;
  flex-flow: row wrap;
}

/* æœ€å¤§200pxï¼Œæœ€å°100px */
.initial {
  -webkit-flex: initial;
          flex: initial;
  width: 200px;
  min-width: 100px;
}

/*  å›ºå®š200px */
.none {
  -webkit-flex: none;
          flex: none;
  width: 200px;
}

/* å æ®å‰©ä½™å®½åº¦çš„ 1/flex(n) */
.flex1 {
  -webkit-flex: 1;
          flex: 1;
}

/* å æ®å‰©ä½™å®½åº¦çš„ 2/flex(n) */
.flex2 {
  -webkit-flex: 2;
          flex: 2;
}
</code></pre>

<h2 id="toc_2">column</h2>

<p>å†…å®¹å¤šåˆ—æ˜¾ç¤º</p>

<pre><code>.three-column {
  padding: 1em;
  -moz-column-count: 3;
  -moz-column-gap: 1em;
  -webkit-column-count: 3;
  -webkit-column-gap: 1em;
  column-count: 3;
  column-gap: 1em;
}
</code></pre>

<h2 id="toc_3"><a href="http://zh.learnlayout.com/inline-block-layout.html">inline-block</a></h2>

<p>å¯ä»¥ç”¨ inline-block æ¥å¸ƒå±€ï¼Œä½†éœ€è¦è®°ä½<br/>
* <code>vertical-align</code>  ä¼šå½±å“ <code>inline-block</code> å…ƒç´ , å¯èƒ½ä¼šè®¾ç½®ä¸º<code>top</code><br/>
* éœ€è¦è®¾ç½®æ¯ä¸€åˆ—çš„å®½åº¦<br/>
* å¦‚æœå…ƒç´ ä¹‹é—´æœ‰ç©ºæ ¼ï¼Œåˆ—ä¹‹é—´ä¼šäº§ç”Ÿç©ºéš™</p>

<blockquote>
<p>the default vertical-align value on inline or inline-block element is <u>baseline</u> , which means the elementâ€™s baseline will be aligned with its parentâ€™s baseline.</p>
</blockquote>

<p><img src="media/14885921690264/baseline-inline-block.jpg" alt="baseline-inline-block"/></p>

<h2 id="toc_4">float</h2>

<h3 id="toc_5">overflow æŠ€å·§</h3>

<p>åœ¨åŒ…å«æµ®åŠ¨å…ƒç´ çš„çˆ¶å®¹å™¨ä¸­è®¾ç½®â€œoverflowâ€çš„å±æ€§å€¼ä¸ºâ€œautoâ€ï¼Œè¿™æ ·çˆ¶å®¹å™¨å°±ä¼šæœ‰ä¸€ä¸ªé«˜åº¦å­˜åœ¨ã€‚</p>

<pre><code>.box {
    overflow : auto;
    zoom: 1;    /* æ”¯æŒ ie 6 */
}
</code></pre>

<ol>
<li>å…ƒç´ æƒ³ç§»åŠ¨åˆ°çˆ¶å®¹å™¨å¤–é¢ä¼šè¢«æˆªæ–­ï¼Œå¦‚ ç›’å­é˜´å½±å’Œä¸‹æ‹‰èœå•</li>
<li>ä¸åŒçš„æµè§ˆå™¨å¯¹â€œoverflowâ€å±æ€§è§£æä¸ä¸€æ ·ï¼Œåœ¨æµè§ˆå™¨çš„æ˜¾ç¤ºé£æ ¼ä¹Ÿä¸ä¸€æ ·</li>
</ol>

<h3 id="toc_6">clearfix æŠ€å·§</h3>

<p>ä½¿ç”¨<code>&quot;display : tabel&quot;</code>åˆ›å»ºä¸€ä¸ªåŒ¿åçš„<code>&quot;tabel-cell&quot;</code>å…ƒç´ <br/>
åœ¨çˆ¶å…ƒç´ ä¸Šä½¿ç”¨ <code>&quot;:before&quot;</code>ä¼ªç±»ï¼Œä½¿å¾—çˆ¶å®¹å™¨é¡¶éƒ¨åˆ›å»ºäº†ä¸€ä¸ªéšè—å…ƒç´ ï¼Œé˜²æ­¢å­å…ƒç´ çš„é¡¶éƒ¨å¤–è¾¹è·å¡Œé™·ã€‚<br/>
åœ¨çˆ¶å…ƒç´ ä¸Šä½¿ç”¨<code>&quot;:after&quot;</code>ä¼ªç±»,å¯ä»¥åœ¨çˆ¶å®¹å™¨åº•éƒ¨åˆ›å»ºéšè—å…ƒç´ ï¼Œé˜²æ­¢å­å…ƒç´ çš„åº•éƒ¨å¤–è¾¹è·å¡Œé™·ä¸æ¸…é™¤å…ƒç´ æµ®åŠ¨ã€‚</p>

<pre><code class="language-css">/*-- our cleafix hack -- */ 
.row:before, 
.row:after {
    content: &quot;&quot; ;
    display: table ;
    clear: both ;
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JavaScript æ•°æ®ç±»å‹ ä¹‹ æ€§æ ¼]]></title>
    <link href="http://blog.kayorl.com/datatype.html"/>
    <updated>2017-02-16T20:05:35+08:00</updated>
    <id>http://blog.kayorl.com/datatype.html</id>
    <content type="html"><![CDATA[
<p>å­¦ä¼šæ•°æ®ç±»å‹ï¼Œé˜²æ­¢è‡ªå·±æŒ–å‘è‡ªå·±è·³ (ï¿£oï¿£) . z Z</p>

<span id="more"></span><!-- more -->

<h2 id="toc_0">Undefined ç±»å‹ï¼Œåªæœ‰ä¸€ä¸ªå€¼ undefined</h2>

<ol>
<li>å£°æ˜ï¼Œä½†ä¸èµ‹å€¼å˜é‡ï¼Œé»˜è®¤å€¼ä¸º undefined</li>
<li>ä¸å£°æ˜ï¼Œç›´æ¥æ“ä½œå˜é‡ï¼Œ <u>ä¸ä¼šæœ‰é»˜è®¤å€¼</u></li>
<li>å¥‡æ€ªçš„æ˜¯ typeof æ“ä½œç¬¦éƒ½è¿”å› undefined</li>
</ol>

<pre><code>var msg;
alert (msg == undefiend);   // true
alert (age == undefined);   // ERROR!

alert (typeof undefined);   // undefined
alert (typeof undefined);   // undefined
</code></pre>

<h2 id="toc_1">Null ç±»å‹, åªæœ‰ä¸€ä¸ªå€¼ null</h2>

<ol>
<li>null è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡æŒ‡é’ˆ </li>
<li>ç”¨ typeof æ£€æµ‹æ—¶ä¼šè¿”å› <u>object</u>.</li>
<li>å¦‚æœå˜é‡ä»¥åè¦ä¿å­˜å¯¹è±¡ï¼Œé‚£ä¹ˆåˆå§‹åŒ–ä¸º null ä¼šæ›´å¥½</li>
</ol>

<pre><code>alert (typeof null);    // object

if ( car ! = null ) {
    //å¯¹ car å¯¹è±¡è¿›è¡Œæ“ä½œ
}
</code></pre>

<h2 id="toc_2">Number ç±»å‹</h2>

<ol>
<li>æµ®ç‚¹è¿ç®—ä¼šäº§ç”Ÿè¯¯å·®ï¼Œä¸è¦æµ‹å®šç‰¹å®šçš„æµ®ç‚¹æ•°å€¼</li>
<li>æ— ç©·å€¼ç”¨ <code>isFinite()</code> æ£€æŸ¥</li>
<li>èŒƒå›´æ•°å€¼çš„æ“ä½œæ•°æœªè¿”å›æ•°å€¼ï¼Œç”¨ NaN è¡¨ç¤ºï¼Œç”¨ <code>isNaN()</code> æ£€æŸ¥</li>
</ol>

<table>
<thead>
<tr>
<th style="text-align: center"></th>
<th style="text-align: center">â€œhello&quot;</th>
<th style="text-align: center">undefined</th>
<th style="text-align: center">null</th>
<th style="text-align: center">â€œâ€</th>
<th style="text-align: center">true</th>
<th style="text-align: center">â€œ000011&quot;</th>
<th style="text-align: center">22.5</th>
<th style="text-align: center">22.5.5</th>
<th style="text-align: center">1234hdhd</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">Number()</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">0</td>
<td style="text-align: center">0</td>
<td style="text-align: center">1</td>
<td style="text-align: center">11</td>
<td style="text-align: center">22.5</td>
<td style="text-align: center">ERROR</td>
<td style="text-align: center">ERROR</td>
</tr>
<tr>
<td style="text-align: center">parseInt(obj,base)</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">11</td>
<td style="text-align: center">22</td>
<td style="text-align: center">22</td>
<td style="text-align: center">1234</td>
</tr>
<tr>
<td style="text-align: center">parseFloat()</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">NaN</td>
<td style="text-align: center">11</td>
<td style="text-align: center">22.5</td>
<td style="text-align: center">22.5</td>
<td style="text-align: center">1234</td>
</tr>
</tbody>
</table>

<h2 id="toc_3">String ç±»å‹ï¼Œå€¼ä¸å˜</h2>

<ol>
<li>ç¡®å®šå€¼ä¸ä¸º null æˆ– undefined æ—¶ç›´æ¥ç”¨ <code>toString()</code> æ–¹æ³•</li>
<li>null ä¸ undefined æ—  <code>toString()</code> æ–¹æ³•</li>
<li>è°ƒç”¨ <code>String()</code> æ–¹æ³•,å¯ä»¥å°†ä»»æ„å€¼è½¬æ¢ä¸ºå­—ç¬¦ä¸² (ä¸ªäººè§‰å¾—ä¸ºäº†å®‰å…¨è¿˜æ˜¯ä¸è¦çš„å¥½)</li>
<li>
```js</li>
</ol>

<p>function String(obj){<br/>
    if(typeof obj.toString() === &quot;function&quot;) {<br/>
        return obj.toString();      // æ–¹æ³•<br/>
    }<br/>
    if(obj === null) {<br/>
        return &quot;null&quot;;<br/>
    }<br/>
    if(typeof obj === undefined) {<br/>
        return &quot;undefined&quot;;<br/>
    }<br/>
}<br/>
```</p>

<h2 id="toc_4">Object ç±»å‹</h2>

<table>
<thead>
<tr>
<th style="text-align: left">æ–¹æ³•</th>
<th style="text-align: left">æè¿°</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">constructor</td>
<td style="text-align: left">æ„é€ å‡½æ•°</td>
</tr>
<tr>
<td style="text-align: left">hasOwnProperty(propertyName)</td>
<td style="text-align: left">æ£€æŸ¥å±æ€§æ˜¯å¦å­˜åœ¨å½“å‰å¯¹è±¡å®ä¾‹ä¸­</td>
</tr>
<tr>
<td style="text-align: left">isPrototypeOf(object)</td>
<td style="text-align: left">æ£€æŸ¥ä¼ å…¥å¯¹è±¡æ˜¯å¦ä¸ºå½“å‰å¯¹è±¡çš„åŸå‹</td>
</tr>
<tr>
<td style="text-align: left">toLocalString()</td>
<td style="text-align: left">è¿”è¿˜æ‰§è¡Œç¯å¢ƒåœ°åŒºçš„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td style="text-align: left">toString()</td>
<td style="text-align: left">è¿”å›å­—ç¬¦ä¸²è¡¨ç¤º</td>
</tr>
<tr>
<td style="text-align: left">valueOf()</td>
<td style="text-align: left">è¿”å›å­—ç¬¦ä¸²ã€æ•°å€¼æˆ–å¸ƒå°”å€¼è¡¨ç¤º</td>
</tr>
</tbody>
</table>

<blockquote>
<p>å†…ç½®å‡½æ•°å’Œæ“ä½œç¬¦çš„æ“ä½œæµç¨‹</p>
</blockquote>

<pre><code class="language-js">if( !obj.valueOf().func() ){
    return ...;
}else{
    if( ! obj.toString().func() ) {
        return ...;
    }else {
        return ...;
    }
}
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[html æ–‡æ¡£çš„è§£æï¼ŒåŠ script æ ‡ç­¾ä½ç½®çš„é€‰æ‹©]]></title>
    <link href="http://blog.kayorl.com/html-decode.html"/>
    <updated>2017-02-16T20:05:35+08:00</updated>
    <id>http://blog.kayorl.com/html-decode.html</id>
    <content type="html"><![CDATA[
<p>è¯» ã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡ã€‹æ—¶ï¼Œå¯¹ html çš„æ ‡ç­¾è§£ææ„Ÿåˆ°æ¨¡ç³Šï¼Œå‚è€ƒäº†åšæ–‡ï¼Œæ ¹æ®ç†è§£ç”»äº†ä»¥ä¸‹çš„è§£ææµç¨‹å›¾ï¼Œæœ‰è¯¯è¯·æŒ‡æ•™å“ˆ~</p>

<span id="more"></span><!-- more -->

<p><img src="http://olh3adg9x.bkt.clouddn.com/decode_html.png" alt="decode_htm"/></p>

<p>æµè§ˆå™¨å¯¹éå»¶è¿Ÿæ‰§è¡Œçš„è„šæœ¬éƒ½æ˜¯ç«‹å³æ‰§è¡Œçš„ï¼Œå¯¼è‡´æµè§ˆå™¨å‘ˆç°å†…å®¹çš„é€Ÿåº¦å˜æ…¢ï¼ˆå³é¡µé¢ç©ºç™½çš„æ—¶é—´è¿‡ä¹…ï¼‰ï¼Œé€ æˆä¸å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>

<blockquote>
<p>å› æ­¤æŠŠæ‰€æœ‰è„šæœ¬æ”¾åˆ°<code>&lt;body&gt;</code>å…ƒç´ çš„æœ€åé¢</p>
</blockquote>

<p>æœ‰äººè¯´ï¼Œå…¨ç”¨ defer è„šæœ¬ä¸å°±å¥½äº†å—ï¼Ÿ  <strong><em>äººæ— å®Œäººï¼Œdefer ä¹Ÿæœ‰é™åˆ¶</em></strong></p>

<blockquote>
<p>å»¶è¿Ÿè„šæœ¬ç›´åˆ° <code>&lt;/html&gt;</code> æ ‡ç­¾è§£æå®ŒååŠ è½½;<br/>
<u>åªæœ‰ä¸€ä¸ª</u> å»¶è¿Ÿè„šæœ¬èƒ½æŒ‰é¡ºåºæ‰§è¡Œ;<br/>
åªé€‚ç”¨äºå¤–éƒ¨è„šæœ¬æ–‡ä»¶</p>
</blockquote>

<p>async å¼‚æ­¥å‘¢ï¼Ÿå…¶å­˜åœ¨çš„ç›®çš„æ˜¯ <strong><em>ä¸è®©é¡µé¢ç­‰å¾…ä¸¤ä¸ªè„šæœ¬ä¸‹è½½å’Œæ‰§è¡Œ</em></strong></p>

<blockquote>
<p>ä¸ä¿è¯å…ˆåé¡ºåº<br/>
åªé€‚ç”¨äºå¤–éƒ¨è„šæœ¬æ–‡ä»¶</p>
</blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç†è§£ DOCTYPE å£°æ˜çš„æ„ä¹‰]]></title>
    <link href="http://blog.kayorl.com/doctype.html"/>
    <updated>2017-03-08T10:01:30+08:00</updated>
    <id>http://blog.kayorl.com/doctype.html</id>
    <content type="html"><![CDATA[
<p>æ¯æ¬¡çœ‹åˆ° html æ–‡æ¡£æ—¶ï¼Œå·²ç»ä¹ æƒ¯äº†å¤´éƒ¨æœ‰ä¸ª <code>&lt;!DOCTYPE html&gt;</code>ï¼Œå°è±¡ä¹Ÿæœ‰äº›æ¨¡ç³Šï¼Œè¶ç€å­¦ä¹  css ï¼Œèµ¶ç´§æ•´ç†ä¸€ä¸‹</p>

<span id="more"></span><!-- more -->

<p>æ–‡æ¡£ç±»å‹ä¸­ä¼šå‡ºç°çš„å…ƒç´ é™åˆ¶ã€‚</p>

<h2 id="toc_0">DOCTYPE å£°æ˜å¯¹é¡µé¢è¿›è¡Œæœ‰æ•ˆæ€§éªŒè¯</h2>

<blockquote>
<p>DTD (Document Type Definition, æ–‡æ¡£å®šä¹‰ç±»å‹)å®šä¹‰ XML æˆ– HTML çš„ç‰¹å®šç‰ˆæœ¬å…è®¸æœ‰ä»€ä¹ˆï¼Œä¸å…è®¸æœ‰ä»€ä¹ˆã€‚</p>

<p>SGML (Standard Generalized Markup language, æ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€) æ˜¯ä¸€ç§å®šä¹‰ç”µå­æ–‡æ¡£ç»“æ„å’Œæè¿°å…¶å†…å®¹çš„å›½é™…æ ‡å‡†è¯­è¨€</p>
</blockquote>

<p>åˆ©ç”¨ <a href="http://validator.w3.org/">w3c è®¤è¯å™¨</a>, æœ‰åŠ©äºæ‰¾åˆ°ä»£ç ä¸­çš„ bug ã€‚<br/>
å®ƒæ˜¯é€šè¿‡ä¸æ ‡å‡†HTMLè§„åˆ™è¿›è¡Œæ¯”è¾ƒçš„æ–¹å¼ï¼Œåˆ†æHTMLæ–‡æ¡£ã€æ ‡è®°å‡ºé”™è¯¯å’Œéæ ‡å‡†ä»£ç çš„å¤„ç†è¿‡ç¨‹ã€‚<br/>
Webé¡µé¢ä½¿ç”¨HTMLè¿›è¡Œæ¸²æŸ“ï¼Œè€ŒHTMLæœ¬èº«é‡‡ç”¨äº†HTMLè§„èŒƒä½œä¸ºå…¶è§„åˆ™å’Œæ ‡å‡†ã€‚</p>

<h2 id="toc_1">DOCTYPE å£°æ˜è®©æµè§ˆå™¨æœ‰ä¸åŒçš„å‘ˆç°å½¢å¼</h2>

<blockquote>
<p>æ ‡å‡†æ¨¡å¼(standard mode)ï¼šæ ¹æ®è§„èŒƒçš„ä¸€ç§å‘ˆç°å½¢å¼<br/>
æ··æ‚æ¨¡å¼(quirk mode)ï¼šæ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„ä¸€ç§å‘ˆç°å½¢å¼ï¼Œç›’æ¨¡å‹ï¼ˆborder-boxï¼‰</p>
</blockquote>

<table>
<thead>
<tr>
<th style="text-align: center"></th>
<th style="text-align: center">DTD</th>
<th style="text-align: center">standard</th>
<th style="text-align: center">quirk</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: center">NO</td>
<td style="text-align: center"></td>
<td style="text-align: center"></td>
<td style="text-align: center">yes</td>
</tr>
<tr>
<td style="text-align: center">Â HTML4.01</td>
<td style="text-align: center">strict</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td style="text-align: center"></td>
<td style="text-align: center">Transitional &amp;&amp; url</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
</tr>
<tr>
<td style="text-align: center"></td>
<td style="text-align: center">Transitional &amp;&amp; NO url</td>
<td style="text-align: center"></td>
<td style="text-align: center">yes</td>
</tr>
<tr>
<td style="text-align: center">HTML5</td>
<td style="text-align: center">Â ä¸åŸºäº SGMLï¼Œæ‰€ä»¥ä¸éœ€è¦å¼•ç”¨ DTD</td>
<td style="text-align: center">yes</td>
<td style="text-align: center"></td>
</tr>
</tbody>
</table>

<h2 id="toc_2">æ··æ‚æ¨¡å¼ç‰¹ç‚¹</h2>

<ol>
<li>ç›’æ¨¡å‹çš„é«˜å®½åŒ…å«å†…è¾¹è·paddingå’Œè¾¹æ¡†border</li>
<li>å¯ä»¥è®¾ç½®è¡Œå†…å…ƒç´ çš„é«˜å®½</li>
<li>å¯è®¾ç½®ç™¾åˆ†æ¯”çš„é«˜åº¦</li>
<li>ç”¨<code>margin:0 auto</code>è®¾ç½®æ°´å¹³å±…ä¸­åœ¨IEä¸‹ä¼šå¤±æ•ˆ</li>
<li>è®¾ç½®å›¾ç‰‡çš„paddingä¼šå¤±æ•ˆ</li>
<li>Tableä¸­çš„å­—ä½“å±æ€§ä¸èƒ½ç»§æ‰¿ä¸Šå±‚çš„è®¾ç½®</li>
<li><code>white-space: pre</code>ä¼šå¤±æ•ˆ</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MySQL è¯­å¥]]></title>
    <link href="http://blog.kayorl.com/14872445826285.html"/>
    <updated>2017-02-16T19:29:42+08:00</updated>
    <id>http://blog.kayorl.com/14872445826285.html</id>
    <content type="html"><![CDATA[
<span id="more"></span><!-- more -->

<h2 id="toc_0">å­˜å‚¨åˆ›å»ºæ—¶é—´å’Œæœ€åä¿®æ”¹æ—¶é—´</h2>

<pre><code class="language-sql">CREATE TABLE t1
(
    tb_created TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    ts_modifiled TIMESTAMP DEFAULT CURRNET_TIMESTAMP
                            ON UPDATE CURRENT_TIMESTAMP,
    ...
):
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[MySQL5.7 ä»ç›¸è§åˆ°ğŸ‘‹]]></title>
    <link href="http://blog.kayorl.com/14872339187000.html"/>
    <updated>2017-02-16T16:31:58+08:00</updated>
    <id>http://blog.kayorl.com/14872339187000.html</id>
    <content type="html"><![CDATA[
<p>æˆ‘çš„æ„ä¸­äººæ˜¯ä¸ªç›–ä¸–è‹±é›„<br/>
æœ‰ä¸€å¤©ä»–ä¼šè¸©ç€ä¸ƒè‰²äº‘å½©æ¥å¨¶æˆ‘<br/>
æˆ‘çŒœä¸­äº†å‰å¤´,<br/>
å¯æ˜¯æˆ‘çŒœä¸ç€è¿™ç»“å±€</p>

<span id="more"></span><!-- more -->

<ul>
<li>
<a href="#toc_0">å®‰è£…</a>
</li>
<li>
<a href="#toc_1">å»ºç«‹ä¸ MySQL æœåŠ¡å™¨çš„è¿æ¥</a>
</li>
<li>
<a href="#toc_2">å¯¼å…¥ .sql æ–‡ä»¶</a>
</li>
<li>
<a href="#toc_3">ä¿®æ”¹æ—¶åŒº</a>
</li>
<li>
<a href="#toc_4">å¤‡ä»½</a>
</li>
<li>
<a href="#toc_5">å¸è½½</a>
</li>
</ul>


<h2 id="toc_0">å®‰è£…</h2>

<p><a href="https://www.digitalocean.com/community/tutorials/how-to-install-mysql-on-ubuntu-16-04">DOæ•™ç¨‹</a></p>

<pre><code># å®‰è£… 
$ sudo apt-get update
$ sudo apt-get install mysql-server

# ä¿®æ”¹æ•°æ®åº“çš„å®‰å…¨é…ç½®ï¼Œå¦‚ç¦ç”¨è¿œç¨‹ root ç”¨æˆ·
$ sudo mysql_secure_installation

## æµ‹è¯•æ•°æ®åº“çŠ¶æ€
$ systemctl status mysql.service
</code></pre>

<h2 id="toc_1">å»ºç«‹ä¸ MySQL æœåŠ¡å™¨çš„è¿æ¥</h2>

<p>ä¸ºè¿æ¥åˆ° MySQL æœåŠ¡å™¨,åœ¨å‘½ä»¤è¡Œä¸­è°ƒç”¨ mysql ç¨‹åº</p>

<pre><code>$ mysql -h host_name -p -u user_name -D database_name
</code></pre>

<ul>
<li><code>mysql</code> æ˜¯å¿…é¡»çš„, å…¶ä»–å¯é€‰</li>
<li>-h  host_nameã€€ã€€ã€€ä¸»æœºåœ°å€,é»˜è®¤ä¸ºæœ¬åœ°</li>
<li>-u  user_nameã€€ã€€ã€€MySQL ç”¨æˆ·å</li>
<li>-pã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€å›æ˜¾ Enter password: ï¼Œå¦‚æœç›¸åº”ç”¨æˆ·åæœ‰å¯†ç è€Œæ²¡åŠ æ­¤é¡¹ï¼Œä¼šæ˜¾ç¤º<code>æ‹’ç»è®¿é—®</code></li>
<li>-D  database_name é€‰æ‹©æ“ä½œ(é»˜è®¤)çš„æ•°æ®åº“<br/></li>
</ul>

<h2 id="toc_2">å¯¼å…¥ .sql æ–‡ä»¶</h2>

<p>å¯ä»¥å°†ç¼–å†™å¥½çš„æ•°æ®åº“è¯­å¥å†™å…¥åˆ°æ–‡ä»¶ååç¼€ä¸º <code>.sql</code> çš„æ–‡ä»¶ä¸­,å¹¶è®°ä½å…¶è·¯å¾„,æœ€ç®€å•çš„æ–¹æ³•æ˜¯åœ¨å‘½ä»¤è¡Œä¸­è¿›å…¥åˆ°.sql æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•,ç„¶ååœ¨<code>å‘½ä»¤è¡Œ</code>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤(çœç•¥äº†ä¸»æœºå,ç”¨æˆ·,å¯†ç ç­‰å‚æ•°)</p>

<pre><code>$ mysql sampdb &lt; create_member.sql
</code></pre>

<p>å¦‚æœå·²ç»è¿›å…¥ mysql ç¨‹åºç•Œé¢,åˆ™æ‰§è¡Œ</p>

<pre><code>mysql&gt; source create_member.sql;
</code></pre>

<h2 id="toc_3">ä¿®æ”¹æ—¶åŒº</h2>

<pre><code># /etc/my.cnf

[mysqld]
...
default-time-zone = &#39;+8:00&#39;

$ systemctl restart mysql
</code></pre>

<h2 id="toc_4">å¤‡ä»½</h2>

<pre><code>$ mysqldump -u -p -D exampleDB &gt;my.sql
</code></pre>

<h2 id="toc_5">å¸è½½</h2>

<p>purge,ç¿»è¯‘è¿‡æ¥æ˜¯å‡€åŒ–çš„æ„æ€</p>

<pre><code>sudo apt-get remove --purge mysql*
sudo apt-get autoremove
sudo apt-get autoclean
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[è¯‘] Sequelize(6) sequelize-cliï¼Œå‡ºé—¨å¿…å¤‡è‰¯å“]]></title>
    <link href="http://blog.kayorl.com/14872470138156.html"/>
    <updated>2017-02-16T20:10:13+08:00</updated>
    <id>http://blog.kayorl.com/14872470138156.html</id>
    <content type="html"><![CDATA[
<p>è®©æ•°æ®åº“è½¬ç§»åˆ°é‚£äº›å¹´çš„çŠ¶æ€<br/>
é€šè¿‡<strong>è¿ç§»æ–‡ä»¶</strong>å­˜å‚¨æ•°æ®åº“ä¸åŒæ—¶æœŸçš„çŠ¶æ€ï¼Œæ¯ä¸ªè¿ç§»æ–‡ä»¶æè¿°äº†å¯¹æ•°æ®åº“çš„æ“ä½œ</p>

<span id="more"></span><!-- more -->

<p><strong>CLI</strong>:  <code>command-line interface</code> , å‘½ä»¤è¡Œç•Œé¢</p>

<h2 id="toc_0">å…¨å±€å®‰è£…</h2>

<pre><code>$ npm install -g sequelize-cli
</code></pre>

<h3 id="toc_1">ä½¿ç”¨</h3>

<pre><code>$ sequelize
</code></pre>

<p>è¿ç§»æ–‡ä»¶ä¸€èˆ¬é•¿è¿™æ ·</p>

<blockquote>
<p>queryInterface : ä¿®æ”¹æ•°æ®åº“</p>

<p>Sequelize : æä¾›å¤šç§ç±»å‹</p>
</blockquote>

<pre><code class="language-js">module.exports = {
  up: function(queryInterface, Sequelize) {
    // logic for transforming into the new state
  },
 
  down: function(queryInterface, Sequelize) {
    // logic for reverting the changes
  }
}
</code></pre>

<p>queryInterfaceæœ‰ä¸€ä¸‹å‡ ä¸ªå‡½æ•°ï¼ˆå¸¸ç”¨ï¼‰ï¼š</p>

<ul>
<li>createTable(tableName, attributes, options)</li>
<li>addIndex(tableName, attributes, options)</li>
<li>dropTable(tableName, options)</li>
</ul>

<h2 id="toc_2">createTable(tableName, attributes, options)</h2>

<pre><code>queryInterface.createTable(
  &#39;nameOfTheNewTable&#39;,
  {
    id: {
      type: Sequelize.INTEGER,
      primaryKey: true,
      autoIncrement: true
    },
    createdAt: {
      type: Sequelize.DATE
    },
    updatedAt: {
      type: Sequelize.DATE
    },
    attr1: Sequelize.STRING,
    attr2: Sequelize.INTEGER,
    attr3: {
      type: Sequelize.BOOLEAN,
      defaultValue: false,
      allowNull: false
    },
    //foreign key usage
    attr4: {
        type: Sequelize.INTEGER,
        references: {
            model: &#39;another_table_name&#39;,
            key: &#39;id&#39;
        },
        onUpdate: &#39;cascade&#39;,
        onDelete: &#39;cascade&#39;
    }
  },
  {
    engine: &#39;MYISAM&#39;,                     // default: &#39;InnoDB&#39;
    charset: &#39;utf8&#39;,                    // default: null
    schema: &#39;public&#39;                      // default: public, PostgreSQL only.
  }
)
</code></pre>

<h2 id="toc_3">addIndex(tableName, attributes, options)</h2>

<pre><code class="language-js">// This example will create the index person_firstname_lastname
queryInterface.addIndex(&#39;Person&#39;, [&#39;firstname&#39;, &#39;lastname&#39;])



// This example will create a unique index with the name SuperDuperIndex using the optional &#39;options&#39; field.
// Possible options:
// - indicesType: UNIQUE|FULLTEXT|SPATIAL
// - indexName: The name of the index. Default is __
// - parser: For FULLTEXT columns set your parser
// - indexType: Set a type for the index, e.g. BTREE. See the documentation of the used dialect
// - logging: A function that receives the sql query, e.g. console.log
queryInterface.addIndex(
  &#39;Person&#39;,
  [&#39;firstname&#39;, &#39;lastname&#39;],
  {
    indexName: &#39;SuperDuperIndex&#39;,
    indicesType: &#39;UNIQUE&#39;
  }
)
</code></pre>

<h2 id="toc_4">dropTable(tableName, options)</h2>

<pre><code>queryInterface.dropTable(&#39;nameOfTheExistingTable&#39;)
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[è¯‘] Sequelize(5) å‡ å¯¹å‡ ]]></title>
    <link href="http://blog.kayorl.com/14872314142796.html"/>
    <updated>2017-02-16T15:50:14+08:00</updated>
    <id>http://blog.kayorl.com/14872314142796.html</id>
    <content type="html"><![CDATA[
<p>ä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤š</p>

<span id="more"></span><!-- more -->

<h2 id="toc_0">ä¸€å¯¹ä¸€</h2>

<h3 id="toc_1">hasOne</h3>

<h3 id="toc_2">belongsTo</h3>

<blockquote>
<p>åŒºåˆ«: <code>è”ç³»é”®</code> æ·»åŠ çš„åœ°æ–¹ä¸ä¸€æ ·</p>
</blockquote>

<pre><code class="language-js">var Player = this.sequelize.define(&#39;player&#39;, {/* attributes */}), 
    Coach  = this.sequelize.define(&#39;coach&#39;, {/* attributes */}), 
    Team  = this.sequelize.define(&#39;team&#39;, {/* attributes */}),
    Game =  this.sequelize.define(&#39;game&#39;, {/* attributes */});


Player.belongsTo(Team);     // æ·»åŠ  teamId åˆ° Player
Coach.hasOne(Team);         //æ·»åŠ  coachId åˆ° Team
</code></pre>

<p>é€šè¿‡ hasOne æ–¹æ³•æ·»åŠ çš„æ¨¡å‹</p>

<blockquote>
<p>å¯¹æ–°æ·»åŠ æ¨¡å‹çš„ setter å’Œ getter ä¼šè‡ªåŠ¨ä»¥æ¨¡å‹åä¸ºåç¼€</p>

<p>æ­¤å¤–ï¼Œä¹Ÿä¼šä»¥  <code>æ¨¡å‹å+id</code> çš„å½¢å¼ç”Ÿæˆå¤–ç </p>
</blockquote>

<p>å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç ä¿®æ”¹</p>

<pre><code class="language-js">// Person#getPerson, Person#setPerson

Person.hasOne(Person);


// å¢åŠ æ–¹æ³•Person#getFather,Person#setFather
// ä¿®æ”¹å¤–ç ä¸ºdadId

Person.hasOne(Person, {as: &#39;Father&#39;, foreignKey: &#39;dad_id&#39;})
</code></pre>

<h2 id="toc_3">ä¸€å¯¹å¤š</h2>

<pre><code class="language-js">var User = sequelize.define(&#39;user&#39;, {/* ... */})
var Project = sequelize.define(&#39;project&#39;, {/* ... */})
 
// Project#getWorkers , Project#setWorkers

Project.hasMany(User, {as: &#39;Workers&#39;})
</code></pre>

<h2 id="toc_4">å¤šå¯¹å¤š</h2>

<blockquote>
<p>ä½¿ç”¨belongToMany,ä¸ºä¸¤ä¸ªå¤šå¯¹å¤šçš„æ¨¡å‹å»ºç«‹è”ç³»</p>

<p>é€šè¿‡åˆ›å»ºä¸€ä¸ªä¸­é—´æ¨¡å‹<code>(è”ç³»é›†)</code>å®ç°</p>
</blockquote>

<pre><code class="language-js">User = sequelize.define(&#39;user&#39;, {})
Project = sequelize.define(&#39;project&#39;, {})
UserProjects = sequelize.define(&#39;userProjects&#39;, {
    id: {
        type: Sequelize.INTEGER,
        primaryKey: true,
        autoIncrement: true
    },
    status: DataTypes.STRING
})
 
User.belongsToMany(Project, {  as: &#39;Tasks&#39;, through: UserProjects, foreignKey: &#39;userId&#39; })
Project.belongsToMany(User, {  as: &#39;Workers&#39;,through: UserProjects ,foreignKey: &#39;projectId&#39;})


// æ·»åŠ ä¸€ä¸ª project, å¹¶ä¸”,è®¾ç½®å…¶çŠ¶æ€ä¸º started

user.addProject(project, { status: &#39;started&#39; })


// ä½¿ç”¨ through å¯ä»¥é€‰æ‹©ç‰¹å®šå±æ€§

User.findAll({
  include: [{
    model: Project,
    through: {
      attributes: [&#39;createdAt&#39;, &#39;startedAt&#39;, &#39;finishedAt&#39;],
      where: {completed: true}
    }
  }]
});
</code></pre>

<blockquote>
</blockquote>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[è¯‘] Sequelize(4) èŒƒå›´]]></title>
    <link href="http://blog.kayorl.com/14872314142644.html"/>
    <updated>2017-02-16T15:50:14+08:00</updated>
    <id>http://blog.kayorl.com/14872314142644.html</id>
    <content type="html"><![CDATA[
<p>èŒƒå›´ï¼ˆ<code>scope</code>ï¼‰: å®šä¹‰å¥½èŒƒå›´,åœ¨åç»­çš„æ“ä½œä¸­å¯ä»¥å‡å°‘é€‰æ‹©æ¡ä»¶çš„é‡å¤ï¼Œæ¯”å¦‚ï¼Œåªåœ¨<strong>æœªåˆ é™¤ç”¨æˆ·</strong>åˆ—è¡¨ä¸­è¿›è¡Œæ“ä½œã€‚</p>

<span id="more"></span><!-- more -->

<h2 id="toc_0">èŒƒå›´æ˜¯å¯¹æ¨¡å‹çš„ä¸€ç§åˆ†ç±»</h2>

<pre><code class="language-js">// ä¿®æ”¹é»˜è®¤æ‰€æœ‰æ“ä½œçš„èŒƒå›´ default Scope
var Project = sequelize.define( &#39;project&#39;, {
    // Attributes
}, {
    defaultScope: {
        where: {
            active: true
        }
    },
    scopes: {
        deleted: {
            where: {
                deleted: true
            }
        },
        activeUsers: {
            include: [
                { model: User, where: { active: true } }
      ]
        }
    }
} );



// ç§»é™¤é»˜è®¤èŒƒå›´ï¼Œè®¾ç½®ä¸º deleted èŒƒå›´
Project.scope( &#39;deleted&#39; ).findAll();

// ä¸ä¸Šé¢ç­‰ä»·
var DeletedProjects = Project.scope( &#39;deleted&#39; );
DeletedProjects.findAll();

var Post = sequelize.define( &#39;post&#39;, attributes, {
    defaultScope: {
        where: {
            active: true
        }
    },
    scopes: {
        deleted: {
            where: {
                deleted: true
            }
        }
    }
} );
</code></pre>

<h2 id="toc_1">ä¾‹å­</h2>

<pre><code class="language-js">User.hasMany( Post ); // regular getPosts association
User.hasMany( Post.scope( &#39;deleted&#39; ), { as: &#39;deletedPosts&#39; } );
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[[è¯‘] Sequelize(3)  CRUD]]></title>
    <link href="http://blog.kayorl.com/14872314142502.html"/>
    <updated>2017-02-16T15:50:14+08:00</updated>
    <id>http://blog.kayorl.com/14872314142502.html</id>
    <content type="html"><![CDATA[
<span id="more"></span><!-- more -->

<h2 id="toc_0">æ¨¡å‹å®šä¹‰</h2>

<pre><code class="language-js">var Task = sequelize.define( &#39;task&#39;, {
    title: Sequelize.STRING,
    rank: { type: Sequelize.STRING, defaultValue: 3 }
} );
</code></pre>

<h2 id="toc_1">Create</h2>

<pre><code class="language-js">// åˆ›å»ºæ•°æ®åº“ä¸­å¯¹è±¡
Task.create( { title: &#39;foo&#39; } );

// åˆ›å»ºä¸´æ—¶å˜é‡
var task = Task.build( { title: &#39;very important task&#39; } );

// å°†ä¸´æ—¶å˜é‡å­˜å…¥æ•°æ®åº“å†…, åªä¿å­˜ title å±æ€§
task.save( { fields: [ &#39;title&#39; ] } );
</code></pre>

<h2 id="toc_2">Update</h2>

<pre><code class="language-js">// åœ¨æ•°æ®åº“ä¸­æ›´æ–° task çš„ title
task.update( { title: &#39;a very different title now&#39; } );


// æ›´æ–° æ’åå°äº1000æˆ–è€…æ— æ’åçš„ post çš„ updateAt ä¸º null
Post.update( {
    updatedAt: null,
}, {
    where: {
        rank: {
            $or: {
                $lt: 100,
                $eq: null
            }
        }
    }
    //// rank &lt; 1000 OR rank IS NULL
} );
</code></pre>

<h2 id="toc_3">Delete</h2>

<pre><code class="language-js">// åˆ é™¤ ä¸æ´»è·ƒçš„ post
Post.destroy( {
    where: {
        status: &#39;inactive&#39;
    }
} );
</code></pre>

<h2 id="toc_4">Retrieve</h2>

<pre><code class="language-js">// åªé€‰æ‹©ç›¸åº”å±æ€§
Model.findAll( {
    attributes: [ &#39;foo&#39;, &#39;bar&#39; ]
} );
// åšèšç±»
Model.findAll( {
    attributes: { include: [ [ sequelize.fn( &#39;COUNT&#39;, sequelize.col( &#39;hats&#39; ) ), &#39;no_hats&#39; ] ] }
} );
// é™¤å¼€æŸäº›å±æ€§
Model.findAll( {
    attributes: { exclude: [ &#39;baz&#39; ] }
} );

// id æŸ¥æ‰¾
Project.findById( 123 ).then();

// å±æ€§æŸ¥æ‰¾
Project.findOne( { where: { title: &#39;aProject&#39; } } ).then();
// ï¼Ÿ
Project.findOne( { where: { title: &#39;aProject&#39; }, attributes: [ &#39;id&#39;, [ &#39;name&#39;, &#39;title&#39; ] ] } ).then();

// æ‰¾ï¼Œæ— åˆ™åˆ›å»ºï¼Œ created ä¸º boolean
User.findOrCreate( { where: { username: &#39;kayor&#39; } } ).spread( function ( user, created ) {} );

// æ‰¾å¹¶ä¸”è®¡æ•° count ä¸ºè®¡æ•°ï¼Œ rows ä¸ºå¯¹è±¡æ•°ç»„
Project.findAndCountAll( {
    where: { title: { $like: &#39;foo%&#39; } },
    offset: 10,
    limit: 2
} ).then( function ( result ) {
    console.log( result.count );
    console.log( result.rows );
} );

// æ‰¾å‡ºæ‹¥æœ‰ active profile çš„ç”¨æˆ·
User.findAndCountAll( {
    include: [
        { model: Profile, where: { active: true } }
  ],
    limit: 3
} );


Project.findAll();
Project.all();
Project.findAll( { where: { name: &quot;a Project&quot; } } );
Project.findAll( { where: [ &quot;id&gt;?&quot;, 25 ] } );
Project.findAll( { where: { id: [ 1, 2, 3 ] } } );
Project.findAll( {
    where: {
        id: {
            $and: { a: 5 },
            $or: [ { a: 5 }, { a: 6 } ],
            $gt: 6,
            $gte: 6,
            $lt: 10,
            $lte: 10,
            $ne: 20,
            $between: [ 6, 10 ],
            $notBetween: [ 6, 10 ],
            $in: [ 1, 2 ],
            $notIn: [ 1, 2 ],
            $like: &#39;%hat&#39;
        },
        status: { $not: false }
    }
} );

//åªæ‰¾åä¸ª
Project.findAll( { limit: 10 } );
// è·³è¿‡å‰10ä¸ª
Project.findAll( { offset: 10 } );
// è·³è¿‡å‰10ï¼Œå–ä¸¤ä¸ª
Project.findAll( { offset: 10, limit: 2 } );

// é€’å‡
Project.findAll( { order: &#39;title DESC&#39; } );
// åˆ†ç»„
Project.findAll( { group: &#39;name&#39; } );
// è®¡æ•°
Project.count( { where: [ &quot;id&gt;?&quot;, 25 ] } );
// æ‰¾æœ€å¤§
Project.max( &#39;age&#39; );

// å†…è¿æ¥æ‰¾åˆ°æ‹¥æœ‰ç¬¦åˆæ¡ä»¶å·¥å…·çš„ç”¨æˆ·
Post.findAll( {
    include: [ {
        model: Comment,
        as: &#39;comment_my&#39;,
        where: { name: { $like: &#39;%ooth%&#39; } }
    } ]
} );

// è·å¾—åŸæ•°æ®
Post.findOne( { where: { title: &#39;scut&#39; } } ).then( function ( post ) {
    post.title = &#39;south china university of tecknology&#39;;
    console.log( post.title ); // &#39;south china university of tecknology&#39;

    post.reload().then( function () {
        console.log( post.title ); // &#39;scut&#39;
    } );
} );

</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[supertest æ¨¡æ‹Ÿå®¢æˆ·ç«¯]]></title>
    <link href="http://blog.kayorl.com/14872476184764.html"/>
    <updated>2017-02-16T20:20:18+08:00</updated>
    <id>http://blog.kayorl.com/14872476184764.html</id>
    <content type="html"><![CDATA[
<p>æ¨¡æ‹Ÿä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå¯ç”¨äºçˆ¬è™«ã€API æµ‹è¯•ç­‰</p>

<span id="more"></span><!-- more -->

<h2 id="toc_0">å®‰è£…</h2>

<pre><code>$ npm install supertest --save-dev
</code></pre>

<h2 id="toc_1">ä¾‹å­</h2>

<pre><code class="language-js">var request = require(&#39;supertest&#39;);
var express = require(&#39;express&#39;);

var app = express();

app.get(&#39;/user&#39;, function(req, res) {
  res.status(200).json({ name: &#39;tobi&#39; });
});

request(app)
  .get(&#39;/user&#39;)
  .expect(&#39;Content-Type&#39;, /json/)
  .expect(&#39;Content-Length&#39;, &#39;15&#39;)
  .expect(200)
  .end(function(err, res) {
    if (err) throw err;
  });
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[pm2]]></title>
    <link href="http://blog.kayorl.com/14872295003201.html"/>
    <updated>2017-02-16T15:18:20+08:00</updated>
    <id>http://blog.kayorl.com/14872295003201.html</id>
    <content type="html"><![CDATA[
<p>nodejs çš„è¿›ç¨‹ç®¡ç†å™¨ï¼Œè‡ªå¸¦<code>è´Ÿè½½å‡è¡¡</code>ä»¥åŠçƒ­é‡è½½</p>

<span id="more"></span><!-- more -->

<h2 id="toc_0">å…¨å±€å®‰è£…</h2>

<pre><code>$ npm install pm2 -g
</code></pre>

<h2 id="toc_1">å¼€æœºå¯åŠ¨</h2>

<p>pm2 save ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤åˆ—è¡¨å†…è¿›ç¨‹</p>

<pre><code>$ pm2 startup &amp;&amp; pm2 save
</code></pre>

<h2 id="toc_2">å¯åŠ¨</h2>

<blockquote>
<p>[ app_name ] : åº”ç”¨å<br/>
[ 4 ] :è¿›ç¨‹æ•°ç›®,ä¸º0æ—¶è¿›ç¨‹æ•°ç›®ä¸ CPU æ•°ç›¸ç­‰</p>
</blockquote>

<pre><code>$ pm2 start app.js --name=[app_name] -i 4
</code></pre>

<h2 id="toc_3">æš‚åœ | åˆ é™¤</h2>

<blockquote>
<p>[ id ] : è¿›ç¨‹ id</p>
</blockquote>

<pre><code>$ pm2 stop [id]
$ pm2 delete [id]
</code></pre>

<p>è¿›ç¨‹æ•°å˜ä¸º2</p>

<blockquote>
<p>[ app_name ] : åº”ç”¨å</p>
</blockquote>

<pre><code>$ pm2 sacle [app_name] 2
</code></pre>

<h2 id="toc_4">ç›‘æ§</h2>

<pre><code>$ pm2 list
$ pm2 monit
$ pm2 show [app_name]
$ pm2 logs
$ pm2 logs [app_name]
</code></pre>

<hr/>

<p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ <a href="https://app.keymetrics.io">keymetrics</a>  å®ç°ç½‘é¡µç›‘æ§ï¼Œä¸è¿‡å…è´¹ç‰ˆåªèƒ½æ”¯æŒä¸€å°æœºå™¨çš„çŠ¶æ€ç›‘æ§</p>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[nginx ä»å®‰è£…åˆ°å¸è½½]]></title>
    <link href="http://blog.kayorl.com/14872295003080.html"/>
    <updated>2017-02-16T15:18:20+08:00</updated>
    <id>http://blog.kayorl.com/14872295003080.html</id>
    <content type="html"><![CDATA[
<p>åœ¨<code>ubuntu16.04</code>ä¸‹ï¼Œå¯¹ nginx è¿›è¡Œ</p>

<ul>
<li>
<a href="#toc_0">æºå®‰è£…</a>
</li>
<li>
<a href="#toc_1">é…ç½®é˜²ç«å¢™å…è®¸ nginx é€šè¿‡ 80 ç«¯å£</a>
</li>
<li>
<a href="#toc_2">æŸ¥çœ‹ nginx çŠ¶æ€</a>
</li>
<li>
<a href="#toc_3">å†…æ ¸å‚æ•°ä¼˜åŒ–</a>
</li>
<li>
<a href="#toc_4">ä½¿é…ç½®ç”Ÿæ•ˆ</a>
</li>
<li>
<a href="#toc_5">nginx é…ç½®</a>
</li>
</ul>


<span id="more"></span><!-- more -->

<p>å‚è€ƒå¾ˆå…¨é¢çš„<a href="http://bbs.linuxtone.org/thread-25588-1-1.html">æ•™ç¨‹</a>ï¼Œå…³äº nginx çš„ä¼˜åŒ–ï¼Œä»¥åŠè‡ªå·±å¹³å¸¸é‡åˆ°çš„é—®é¢˜</p>

<p>[tutorial]:</p>

<h2 id="toc_0">æºå®‰è£…</h2>

<pre><code>sudo apt-get update
sudo apt-get install nginx 

# å®‰è£…å¸¸ç”¨ nginx æ’ä»¶
apt-get install nginx-extras 
</code></pre>

<h2 id="toc_1">é…ç½®é˜²ç«å¢™å…è®¸ nginx é€šè¿‡ 80 ç«¯å£</h2>

<pre><code>sudo ufw app list 
sudo ufw allow &#39;Nginx HTTP&#39; 
sudo ufw status
</code></pre>

<h2 id="toc_2">æŸ¥çœ‹ nginx çŠ¶æ€</h2>

<pre><code>systemctl status nginx
</code></pre>

<h2 id="toc_3">å†…æ ¸å‚æ•°ä¼˜åŒ–</h2>

<pre><code>#vi /etc/sysctl.conf
net.ipv4.netfilter.ip_conntrack_tcp_timeout_established = 1800
#å¦‚æœä½¿ç”¨é»˜è®¤å‚æ•°,å®¹æ˜“å‡ºç°ç½‘ç»œä¸¢åŒ…
net.ipv4.ip_conntrack_max = 16777216ã€€
#å¦‚æœä½¿ç”¨é»˜è®¤å‚æ•°,å®¹æ˜“å‡ºç°ç½‘ç»œä¸¢åŒ…
net.ipv4.netfilter.ip_conntrack_max = 16777216 
net.ipv4.tcp_max_syn_backlog = 65536
net.core.netdev_max_backlog =  32768
net.core.somaxconn = 32768
net.core.wmem_default = 8388608
net.core.rmem_default = 8388608
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_timestamps = 0
net.ipv4.tcp_synack_retries = 2
net.ipv4.tcp_syn_retries = 2
net.ipv4.tcp_tw_recycle = 1
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_mem = 94500000 915000000 927000000
net.ipv4.tcp_max_orphans = 3276800
net.ipv4.ip_local_port_range = 1024  65535
</code></pre>

<h2 id="toc_4">ä½¿é…ç½®ç”Ÿæ•ˆ</h2>

<pre><code># sysctl -p
</code></pre>

<h2 id="toc_5">nginx é…ç½®</h2>

<pre><code># vi /etc/nginx/nginx.conf
#å¼€å¯å·¥ä½œè¿›ç¨‹ï¼Œå¤šå°‘æ ¸å¿ƒå°±å¤šå°‘ä¸ª
worker_processes auto;  
#pid è·¯å¾„
pid /run/nginx.pid;
#æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œè§£å†³&#39;too many open files&#39;é—®é¢˜
worker_rlimit_nofile 100000; 
events {
        #ä¸€ä¸ªè¿›ç¨‹èƒ½åŒæ—¶å¤„ç†2048ä¸ªè¯·æ±‚
        worker_connections 2048; 
        #æ¥æ”¶åˆ°ä¸€ä¸ªæ–°è¿æ¥åå°½å¯èƒ½å¤šé“¾æ¥  
        multi_accept on;    
        #*BSD ç”¨ kqueueï¼Œå…¶ä»–ç”¨ epollï¼Œä¸æè¿°çš„è¯ï¼Œè‡ªåŠ¨é€‰æ‹©é€‚åˆæ“ä½œç³»ç»Ÿåœ°
        # use epoll;    
}

http {

        ##
        # Basic Settings
        ##
        #ä¸å‘ç”¨æˆ·å±•ç¤º Nginx ç‰ˆæœ¬ï¼Œä¿è¯å®‰å…¨
        server_tokens off;      
        #é™æ€æœåŠ¡å™¨å¯ç”¨ï¼Œ
        sendfile on;        
        #åœ¨ä¸€ä¸ªæ•°æ®åŒ…é‡Œå‘é€æ‰€æœ‰å¤´æ–‡ä»¶ï¼Œä¸ä¸€ä¸ªä¸€ä¸ªå‘é€
        tcp_nopush on;  
        #ä¸ç¼“å­˜ï¼Œç›´æ¥å‘é€       
        tcp_nodelay on;


        ##
        #Timeout Settings
        ##
            #æœåŠ¡å™¨åœ¨è¶…æ—¶æ—¶é—´è¿‡åå…³é—­é“¾æ¥
        keepalive_timeout 10;
        client_header_timeout 10;
        client_body_timeout 10;
        #å…³é—­ä¸å“åº”çš„å®¢æˆ·ç«¯è¿æ¥
        reset_timedout_connection on; 
        #å®¢æˆ·ç«¯çš„å“åº”è¶…æ—¶æ—¶
        send_timeout 10;        

        types_hash_max_size 2048;

        ##
        #1 user connection limit
        ##
        
        #ä¿å­˜å½“å‰è¿æ¥æ•°çš„å…±äº«å†…å­˜
        limit_conn_zone $binary_remote_addr zone=addr:5m;
        
        #åŒä¸€ä¸ª ip æœ€å¤š100ä¸ªè¿æ¥
        limit_conn addr 100;    

        # server_names_hash_bucket_size 64;
        # server_name_in_redirect off;

        include /etc/nginx/mime.types;
        default_type application/octet-stream;

        ##
        #Log Settings
        access_log off;
        error_log /var/log/nginx/error.log;


        ##
        # SSL Settings
        ##
        
        # Dropping SSLv3, ref: POODLE
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; 
        ssl_prefer_server_ciphers on;


        ##
        # Gzip Settings
        ##

        gzip on;
            #å¯¹ IE6 åŠä»¥ä¸‹çš„ç‰ˆæœ¬ç¦ç”¨ gzip
        gzip_disable &quot;msie6&quot;;
         # gzip_static on;
        # gzip_vary on;
          gzip_proxied any; #å‹ç¼©æ‰€æœ‰è¯·æ±‚
          gzip_min_length 1000; #å¯ç”¨å‹ç¼©çš„æœ€å°‘å­—èŠ‚æ•°ï¼Œå°äº1000ä¸å‹ç¼©
          gzip_comp_level 4;    #å‹ç¼©æ¯”ï¼Œ9æœ€æ…¢ä½†å‹ç¼©æœ€å¼º
        # gzip_buffers 16 8k;
        # gzip_http_version 1.1;
          gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript;

        ##
        #Open File Cache Settings
        ##
        
            #æ‰“å¼€ç¼“å­˜çš„åŒæ—¶ï¼Œå½“20ç§’ä¸æ´»åŠ¨æ—¶æ¸…é™¤æ‰
        open_file_cache max=100000 inactive=20s;
        open_file_cache_valid 30s;
        open_file_cache_min_uses 2;
        open_file_cache_errors on;


        #Virtual Host Configs
        include /etc/nginx/conf.d/*.conf;
}
</code></pre>

<blockquote>
<p>å¸è½½ nginx</p>
</blockquote>

<pre><code>sudo apt-get remove nginx nginx-common # Removes all but config files.
sudo apt-get purge nginx nginx-common # Removes everything.
sudo apt-get autoremove # After using any of the above commands, use this in order to remove dependencies used by nginx which are no longer required.
</code></pre>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[æ‚]]></title>
    <link href="http://blog.kayorl.com/14872477973050.html"/>
    <updated>2017-02-16T20:23:17+08:00</updated>
    <id>http://blog.kayorl.com/14872477973050.html</id>
    <content type="html"><![CDATA[
<span id="more"></span><!-- more -->

<h2 id="toc_0">Nodejs <a href="node-production">ç”Ÿäº§æ¨¡å¼</a></h2>

<h2 id="toc_1">é…ç½® openssl å¯†ç å¼€å…³</h2>

<pre><code>$ vi /etc/ssh/sshd_config
$ sudo systemctl reload sshd
</code></pre>

<h2 id="toc_2">Redis</h2>

<p><a href="http://www.linuxdiyf.com/linux/22527.html">http://www.linuxdiyf.com/linux/22527.html</a></p>

<h2 id="toc_3">Mac å¯åŠ¨ redis</h2>

<pre><code>$ sudo ../bin/redis-server ./redis.conf
</code></pre>

]]></content>
  </entry>
  
</feed>
